# 正则表达式

| 表达式  | 功能                                                         |
| :-----: | :----------------------------------------------------------- |
|  `\d`   | 匹配数字字符                                                 |
|  `\D`   | 除数字以外的任意字符                                         |
|  `\w`   | 任何字母、数字或下划线字符(可以认为是匹配"单词"字符)         |
|  `\W`   |                                                              |
|  `\s`   | 空格、制表符或换行符                                         |
|  `\S\`  |                                                              |
|  `()`   | 分组`phoneNumRegex = re.compile(r"(\d\d\d)-(\d\d\d-\d\d\d\d)")` |
|  `a|b`  | 管道                                                         |
|   `?`   | 可选匹配                                                     |
|   `*`   | 匹配0次或多次                                                |
|   `+`   | 匹配一次或多次                                               |
|  `{n}`  | 匹配`n`次                                                    |
|  {a,b}  | 匹配a到b次                                                   |
|   `.`   | 通配字符                                                     |
|  `[]`   | 自定义分类，匹配括号内的任意字符                             |
| `[^  ]` | 除括号内的任意字符                                           |
| `^spam` | 字符串必须以`spam`开始                                       |
| `spam$` | 字符串必须以`spam`结束                                       |



贪心匹配：`(Ha){3,5}`	`.*`

非贪心匹配：`(Ha){3,5}?`	`.*?`

## re模块

| 方法         | 示例                                                  | 功能                                 |
| ------------ | ----------------------------------------------------- | ------------------------------------ |
| `.compile()` | `phoneNumRegex = re.compile(r"\d{3}-")`               | 传入匹配模式                         |
| `re.I`       | `.compile("   ",re.I)`                                | 忽略大小写                           |
| `re.VERBOSE` |                                                       | 表达式可换行                         |
| `re.DOTALL`  |                                                       | 让句点字符匹配所有字符，包括换行符。 |
| `.search()`  | `mo = phoneNumRegex.search("number is 9898-2-12")`    | 传入文本                             |
| `.group()`   | `print("phone number found:" + mo.group())`           | 分组，0或空返回所有                  |
| `.groups()`  |                                                       | 一次性获取所有分组，返回元组         |
| `.findall()` |                                                       | 返回所有匹配的列表字符串             |
| `.sub()`     | `namesRegex.sub("CENSORED", "Agent Alice gave the.")` | 替换字符串                           |
|              |                                                       |                                      |



`re.VERBOSE`:

```python
phoneRegex = re.compile(
    r"""(
    (\d{3}|\(\d{3}\))?               
    (\s|-|\.)?                       
    \d{3}                            
    (\s|-|\.)                        
    \d{4}                            
    (\s*(ext|x|ext.)\s*\d{2,5})?  
    )""",
    re.VERBOSE,
)
```

